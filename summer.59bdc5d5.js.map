{"mappings":"qfAAAA,EAAAC,EAAA,S,aAGA,MAAMC,IAAEC,EAAGC,MAAEC,EAAKC,SAAEC,GAAaC,EAAAC,MAC3BC,EAAM,G,IACMC,EAAlB,MAAMC,EAAwD,QAA5CD,EAAAE,KAAKC,MAAMC,aAAaC,QAAQ,oBAAY,IAA5CL,IAAgD,GAE9CM,SAASC,cAAc,kBAC/BC,iBAAiB,SAM7B,SAAiBC,GACfC,QAAQC,IAAIF,EAAIG,QAChB,MAAMC,EAAYJ,EAAIG,OAAOE,WACvBC,EAASN,EAAIG,OAAOI,QAAQ,wBAAwBC,QAAQC,GAC5DC,GAMeC,EANOC,OAAON,GAO1BhB,EAAIuB,MAAK,EAACJ,GAAEA,KAASA,IAAOE,KADrC,IAAqBA,EAJjBP,EAAUU,UAAUC,SAAS,yBAC/B,EAAAnC,EAAAoC,cAAaN,GAOf,MAAMO,EAAapB,SAASC,cAAc,sBACpCoB,EAAUrB,SAASC,cAAc,mBACjCqB,EAAY3B,EAAU4B,MAAK,EAACX,GAAEA,KAASA,IAAOG,OAAON,KAE3DY,EAAQG,MAAMC,QAAU,OAEpBH,GACFF,EAAWlB,iBAAiB,QAASwB,GAErCN,EAAWH,UAAUU,OAAO,UAC5BP,EAAWH,UAAUW,IAAI,aACzBP,EAAQG,MAAMC,QAAU,UAExBL,EAAWlB,iBAAiB,QAASwB,GAErCN,EAAWH,UAAUW,IAAI,UACzBR,EAAWH,UAAUU,OAAO,aAC5BN,EAAQG,MAAMC,QAAU,QAG1B,SAASC,EAAUG,GACjB,MAAMC,EAASD,EAAIvB,OAAOW,UAAUC,SAAS,UACvCa,EAAYpC,EAAU4B,MAAK,EAACX,GAAEA,KAASA,IAAOG,OAAON,KAE3D,GAAIqB,EAAQ,CAKV,GAJAD,EAAIvB,OAAOW,UAAUU,OAAO,UAC5BE,EAAIvB,OAAOW,UAAUW,IAAI,aACzBP,EAAQG,MAAMC,QAAU,QAEpBM,EACF,OAEFpC,EAAUqC,KAAKnB,GACff,aAAamC,QAAQ,WAAYrC,KAAKsC,UAAUvC,G,MAEhDkC,EAAIvB,OAAOW,UAAUU,OAAO,aAC5BE,EAAIvB,OAAOW,UAAUW,IAAI,UAEzBP,EAAQG,MAAMC,QAAU,OAExB9B,EAAUwC,KAAIC,IACRA,EAAaxB,KAAOG,OAAON,KAC7Bd,EAAU0C,OAAO1C,EAAU2C,QAAQF,GAAe,GAClDtC,aAAamC,QAAQ,WAAYrC,KAAKsC,UAAUvC,I,QA7D1DT,EAAIiD,KAAII,GAAQ9C,EAAIuC,KAAKO,KACzBnD,EAAM+C,KAAII,GAAQ9C,EAAIuC,KAAKO,KAC3BjD,EAAS6C,KAAII,GAAQ9C,EAAIuC,KAAKO,KCR9B,MAAMtD,IAAEuD,EAAGrD,MAAEsD,EAAKpD,SAAEqD,GAAanD,EAAAC,MAC3BmD,EAAM,GACZH,EAAIL,KAAII,GAAQI,EAAIX,KAAKO,KACzBE,EAAMN,KAAII,GAAQI,EAAIX,KAAKO,KAC3BG,EAASP,KAAII,GAAQI,EAAIX,KAAKO,KAE9B,MAAMK,EAAQ5C,SAASC,cAAc,mBCVrC,SAAsB4C,EAAKC,GACzB,IAAIC,EACAF,EAAIG,SACND,EAASF,EACNV,KACC,EAACvB,GACCA,EAAEqC,IACFA,EAAGC,KACHA,EAAIC,MACJA,KACI,gBAAgBvC,0EACRqC,WAAaC,0FAECA,8CACCC,+CAI9BC,KAAK,KAEVN,EAAKO,UAAYN,C,CDPnB,CAAaJ,EAAKC","sources":["src/js/card-modal/card-modal-summer.js","src/js/summer.js","src/js/markups/create-markup-summer.js"],"sourcesContent":["import { createMarkup } from './modal-markup';\nimport { bikes } from '../../../bike-storage.json';\n\nconst { men, women, children } = bikes;\nconst arr = [];\nconst basketArr = JSON.parse(localStorage.getItem('products')) ?? [];\n\nconst modalSummer = document.querySelector('.js-bikes-list');\nmodalSummer.addEventListener('click', onClick);\n\nmen.map(bike => arr.push(bike));\nwomen.map(bike => arr.push(bike));\nchildren.map(bike => arr.push(bike));\n\nfunction onClick(evt) {\n  console.log(evt.target);\n  const modalCard = evt.target.parentNode;\n  const cardId = evt.target.closest('.js-bike-item-summer').dataset.id;\n  const product = findProduct(Number(cardId));\n\n  if (modalCard.classList.contains('js-bike-item-summer')) {\n    createMarkup(product);\n  }\n\n  function findProduct(productId) {\n    return arr.find(({ id }) => id === productId);\n  }\n\n  const addProduct = document.querySelector('#js-card-modal-btn');\n  const textBuy = document.querySelector('.card-modal-buy');\n  const inStorage = basketArr.some(({ id }) => id === Number(cardId));\n\n  textBuy.style.display = 'none';\n\n  if (inStorage) {\n    addProduct.addEventListener('click', addToCart);\n\n    addProduct.classList.remove('js-add');\n    addProduct.classList.add('js-remove');\n    textBuy.style.display = 'block';\n  } else {\n    addProduct.addEventListener('click', addToCart);\n\n    addProduct.classList.add('js-add');\n    addProduct.classList.remove('js-remove');\n    textBuy.style.display = 'none';\n  }\n\n  function addToCart(evt) {\n    const btnAdd = evt.target.classList.contains('js-add');\n    const inStorage = basketArr.some(({ id }) => id === Number(cardId));\n\n    if (btnAdd) {\n      evt.target.classList.remove('js-add');\n      evt.target.classList.add('js-remove');\n      textBuy.style.display = 'block';\n\n      if (inStorage) {\n        return;\n      }\n      basketArr.push(product);\n      localStorage.setItem('products', JSON.stringify(basketArr));\n    } else {\n      evt.target.classList.remove('js-remove');\n      evt.target.classList.add('js-add');\n\n      textBuy.style.display = 'none';\n\n      basketArr.map(localProduct => {\n        if (localProduct.id === Number(cardId)) {\n          basketArr.splice(basketArr.indexOf(localProduct), 1);\n          localStorage.setItem('products', JSON.stringify(basketArr));\n        }\n      });\n    }\n  }\n}\n","import { createMarkup } from './markups/create-markup-summer';\nimport { bikes } from '../../bike-storage.json';\nimport './card-modal/card-modal-summer';\n\nconst { men, women, children } = bikes;\nconst arr = [];\nmen.map(bike => arr.push(bike));\nwomen.map(bike => arr.push(bike));\nchildren.map(bike => arr.push(bike));\n\nconst cards = document.querySelector('.js-bikes-list');\n// const card = document.querySelector('.js-bikes-item');\n// const pagination = document.querySelector('.pagination');\ncreateMarkup(arr, cards);\n\n// let perPage;\n// if (window.innerWidth >= 768) {\n//   perPage = 3;\n// } else {\n//   perPage = 4;\n// }\n// refs.shoppingListWrapper.innerHTML = '';\n\n// if (!card.length) {\n//   refs.paginationContainer.classList.add('visually-hidden');\n//   refs.imageForEmpty.classList.remove('visually-hidden');\n//   refs.textForEmpty.classList.remove('visually-hidden');\n//   refs.contentWrap.style.height = 'auto';\n// } else\n// if (card.length <= 12) {\n//   pagination.classList.add('visually-hidden');\n\n//   refs.shoppingListWrapper.insertAdjacentHTML(\n//     'beforeend',\n//     shoppingListMarkup(\n//       getItemsFromLocaleStorage.slice(\n//         perPage * pageNumber - perPage,\n//         perPage * pageNumber\n//       )\n//     )\n//   );\n// } else {\n//   refs.shoppingListWrapper.insertAdjacentHTML(\n//     'beforeend',\n//     shoppingListMarkup(\n//       getItemsFromLocaleStorage.slice(\n//         perPage * pageNumber - perPage,\n//         perPage * pageNumber\n//       )\n//     )\n//   );\n// }\n// console.log(bikes.child);\n","function createMarkup(arr, list) {\n  let markup;\n  if (arr.length) {\n    markup = arr\n      .map(\n        ({\n          id,\n          img,\n          name,\n          price,\n        }) => `<li data-id=\"${id}\" class=\"bike-item js-card js-bike-item-summer\">\n          <img src=\"${img}\" alt=\"${name}\" width=\"296\" />\n          <div class=\"bike-des\">\n            <h2 class=\"bike-name\">${name}</h2>\n            <h3 class=\"bike-price\">${price} грн.</h3>\n          </div>\n      </li>`\n      )\n      .join('');\n  }\n  list.innerHTML = markup;\n}\nexport { createMarkup };\n"],"names":["$bHzc9","parcelRequire","men","$ad00022a10708f5b$var$men","women","$ad00022a10708f5b$var$women","children","$ad00022a10708f5b$var$children","$9ZsJm","bikes","$ad00022a10708f5b$var$arr","$ad00022a10708f5b$var$ref","$ad00022a10708f5b$var$basketArr","JSON","parse","localStorage","getItem","document","querySelector","addEventListener","evt1","console","log","target","modalCard","parentNode","cardId","closest","dataset","id","product","productId","Number","find","classList","contains","createMarkup","addProduct","textBuy","inStorage1","some","style","display","addToCart","remove","add","evt","btnAdd","inStorage","push","setItem","stringify","map","localProduct","splice","indexOf","bike","$6877aa91a32d0252$var$men","$6877aa91a32d0252$var$women","$6877aa91a32d0252$var$children","$6877aa91a32d0252$var$arr","$6877aa91a32d0252$var$cards","arr","list","markup","length","img","name","price","join","innerHTML"],"version":3,"file":"summer.59bdc5d5.js.map"}